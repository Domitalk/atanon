(this.webpackJsonpatanon=this.webpackJsonpatanon||[]).push([[0],{102:function(e,t,a){e.exports=a(136)},107:function(e,t,a){},108:function(e,t,a){},136:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(9),c=a.n(r),l=(a(107),a(40)),i=a(23),s=(a(108),a(44)),m=a(172),u=a(90),p=a(171),d=a(173),f=a(38);var h=function(e){var t=Object(f.a)(),a=Object(u.a)({typography:{htmlFontSize:8}});return o.a.createElement("div",{className:"header",position:"fixed"},o.a.createElement(m.a,{classes:t,variant:"outlined",color:"primary",className:"logo","aria-controls":"simple-menu","aria-haspopup":"true"},o.a.createElement(p.a,{theme:a},o.a.createElement(s.b,{exact:!0,to:"/atanon",style:{textDecoration:"inherit",color:"inherit"}},o.a.createElement(d.a,null,"@ANON")))))},g=a(55),E=a(174),b=a(175),j=a(177),O=a(179),y=a(178),v=a(176),x=a(3),N=a(185),k=a(91),w=a(92),C=a(84),S=a.n(C),z=a(184),T=a(87),P=a.n(T),A=Object(E.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:200}}}})),_=Object(E.a)((function(e){return{root:{maxWidth:304,margin:"auto",borderRadius:10,position:"relative"},content:{padding:24},title:{color:"#fff",letterSpacing:"2px",textShadow:"#260C0C 1px 0 10px"},likes:{color:"#fff",letterSpacing:"2px",textShadow:"#260C0C 1px 0 10px"}}})),D=function(e){var t=_(),a=Object(k.a)(),r=Object(w.a)(),c=Object(n.useState)(!1),l=Object(i.a)(c,2),s=l[0],u=l[1],p=A(),d=Object(n.useState)(""),f=Object(i.a)(d,2),h=f[0],g=f[1],E=function(t){e.post.id&&e.addReaction({post_id:e.post.id,rtype:t})},C=function(){u(!s)};return o.a.createElement(S.a,{isFlipped:s,flipDirection:"horizontal",infinite:"true"},o.a.createElement(b.a,{key:"front",variant:"outlined",className:Object(x.a)(t.root,r.root)},o.a.createElement(v.a,{classes:a,image:e.post.image_url}),o.a.createElement(j.a,null,o.a.createElement(y.a,{onDoubleClick:C,className:t.content},o.a.createElement(N.a,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:360,color:"common.white",textAlign:"center"},o.a.createElement("h1",{className:t.title},e.post.comment)))),o.a.createElement(O.a,{className:"reactionBox"},o.a.createElement(m.a,{variant:"outlined",color:"secondary",className:"order",value:"1",size:"small",name:"1",onClick:function(){return E(1)}},o.a.createElement("span",{className:t.likes},e.post.heart)," \u2764\ufe0f"),o.a.createElement(m.a,{variant:"outlined",color:"secondary",className:"order",size:"small",name:"2",onClick:function(){return E(2)}},o.a.createElement("span",{className:t.likes},e.post.smile)," \ud83d\ude0a"),o.a.createElement(m.a,{variant:"outlined",color:"secondary",className:"order",size:"small",name:"3",onClick:function(){return E(3)}},o.a.createElement("span",{className:t.likes},e.post.sad)," \ud83d\ude14"),o.a.createElement(m.a,{variant:"outlined",color:"secondary",className:"order",size:"small",name:"4",onClick:function(){return E(4)}},o.a.createElement("span",{className:t.likes},e.post.angry)," \ud83d\ude20"))),o.a.createElement(b.a,{key:"back",className:Object(x.a)(t.root,r.root)},o.a.createElement(v.a,{classes:a,image:e.post.image_url}),o.a.createElement(j.a,null,o.a.createElement(y.a,{onDoubleClick:C,className:t.content},o.a.createElement(N.a,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:360,color:"common.white",textAlign:"center"},o.a.createElement("h1",{className:t.title},"Tag goes here, maybe as a button")),o.a.createElement("form",{className:p.root,autoComplete:"on"},o.a.createElement(z.a,{label:"new tag",defaultValue:"",variant:"filled",size:"small",onChange:function(e){g(e.target.value)},value:h}),h.length>0?o.a.createElement(m.a,{onClick:function(){}},o.a.createElement(P.a,{color:"secondary"})):null)))))},I=a(180),W=a(88),B=a.n(W),R=a(181),F=Object(E.a)((function(e){return{root:{flexGrow:1,spacing:8},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},progressRoot:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),M=function(e){var t=F();return o.a.createElement("div",Object(g.a)({className:t.root},"className","spaced"),o.a.createElement(B.a,{pageStart:0,loadMore:e.fetchMorePosts,hasMore:!0,loader:o.a.createElement("div",{className:"loader",key:0}," ",o.a.createElement("br",null),o.a.createElement(R.a,{color:"secondary"}),o.a.createElement("br",null)),useWindow:!1},o.a.createElement(I.a,{container:!0,spacing:4},e.posts.map((function(a){return o.a.createElement(I.a,{item:!0,xs:12,sm:6,md:4,lg:4},o.a.createElement(D,{className:t.paper,key:a.id,post:a,addReaction:e.addReaction}))})))))},J=a(30),U=Object(E.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}})),G=Object(E.a)({root:{maxWidth:"70vw"}}),H=Object(E.a)((function(e){return{root:{flexGrow:1}}})),V=Object(E.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"67vw"}}}})),Y=function(e){var t=H(),a=V(),r=G(),c=U(),l=Object(n.useState)(""),s=Object(i.a)(l,2),u=s[0],p=s[1],d=Object(n.useState)(""),h=Object(i.a)(d,2),E=h[0],j=h[1],O=Object(f.a)(),y={image_url:u,comment:E},v=function(e){"image_url"===e.target.name?p(e.target.value):"comment"===e.target.name&&j(e.target.value)},x=function(t){t.preventDefault(),E.length>1&&u.length>1&&fetch("https://atanon-api.herokuapp.com/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image_url:u,comment:E})}).then((function(e){return e.json()})).then((function(t){p(""),j(""),e.addPostToFrontOfArray(t),e.history.push("/atanon/")}))},k=window.cloudinary.createUploadWidget({cloudName:"dwazq8zps",uploadPreset:"zvziodpl"},(function(e,t){w(t,e)})),w=function(e,t){"success"===e.event&&(console.log("photo url",e.info.secure_url),p("".concat(e.info.secure_url)))};return o.a.createElement("div",Object(g.a)({className:"spaced"},"className",t.root),o.a.createElement("br",null),o.a.createElement(I.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:9},o.a.createElement(I.a,{item:!0},o.a.createElement("br",null),o.a.createElement("h1",null),o.a.createElement("br",null),o.a.createElement(D,{post:y})),o.a.createElement(I.a,{item:!0},o.a.createElement(b.a,{className:r.root},o.a.createElement("form",{className:a.root,onSubmit:x,noValidate:!0,autoComplete:"off"},o.a.createElement(z.a,{label:"Image URL",type:"url",name:"image_url",value:u,onChange:v,variant:"filled"}),o.a.createElement(z.a,{label:"Comment",multiline:!0,type:"text",name:"comment",rows:"5",value:E,onChange:v,variant:"filled"}),o.a.createElement(N.a,{align:"center",className:c.root},o.a.createElement(m.a,{onClick:function(){k.open()},classes:O},"Upload Your Own Photo"),o.a.createElement(m.a,{onClick:x,classes:O},"Submit Your Post")))))))},q=a(186),L=a(182),$=a(142),K=a(183),Q=a(89),X=a.n(Q),Z=(a(137),Object(E.a)((function(e){return{fabButton:{position:"fixed",zIndex:1,top:"85vh",right:"5vw",margin:"0 auto"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #ff8a65",boxShadow:e.shadows[0],padding:e.spacing(2,4,3),outline:0}}})));var ee=function(e){var t=Object(f.a)({chubby:!0}),a=Object(n.useState)(!0),r=Object(i.a)(a,2),c=r[0],m=r[1],u=Z(),p=Object(n.useState)([]),d=Object(i.a)(p,2),g=d[0],E=d[1],b=function(e){fetch("https://atanon-api.herokuapp.com/reactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){var t=g.findIndex((function(t){return t.id===e.id}));E([].concat(Object(l.a)(g.slice(0,t)),[e],Object(l.a)(g.slice(t+1))))}))};Object(n.useEffect)((function(){fetch("https://atanon-api.herokuapp.com/posts").then((function(e){return e.json()})).then((function(e){E(e)}))}),[]);var j=function(){g.length>0&&setTimeout((function(){fetch("https://atanon-api.herokuapp.com/posts/".concat(g[g.length-1].id)).then((function(e){return e.json()})).then((function(e){console.log(e),E([].concat(Object(l.a)(g),Object(l.a)(e)))}))}),2e3)},O=function(e){E([e].concat(Object(l.a)(g)))},y=function(){m(!1)};return o.a.createElement(s.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(h,null),o.a.createElement(q.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:u.modal,open:c,onClose:y,closeAfterTransition:!0,BackdropComponent:L.a,BackdropProps:{timeout:500}},o.a.createElement($.a,{in:c},o.a.createElement("div",{className:u.paper,onClick:y},o.a.createElement("h2",{id:"transition-modal-title"},"Welcome to @ANON"),o.a.createElement("p",{id:"transition-modal-description"},"Where you can post and react anonymously")))),o.a.createElement(J.a,{exact:!0,path:"/(|atanon)",render:function(e){return o.a.createElement(M,Object.assign({},e,{posts:g,fetchMorePosts:j,addReaction:b}))}}),o.a.createElement(J.a,{exact:!0,path:"/atanon/post",render:function(e){return o.a.createElement(Y,Object.assign({},e,{addPostToFrontOfArray:O}))}}),o.a.createElement(K.a,{classes:t,"aria-label":"add",className:u.fabButton},o.a.createElement(s.c,{exact:!0,to:"/atanon/post",style:{textDecoration:"inherit",color:"inherit"}},o.a.createElement(X.a,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[102,1,2]]]);
//# sourceMappingURL=main.929f7395.chunk.js.map